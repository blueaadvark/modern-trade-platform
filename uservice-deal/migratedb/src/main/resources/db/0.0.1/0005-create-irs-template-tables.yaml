databaseChangeLog:
  - changeSet:  
      id: 20221109-1445
      author: fmcshane
      changes:  
        - createTable:
            tableName: TMPL_FIX_LEG
            columns:
            - column:
                name: ENTITY_ID
                type: UUID
                constraints:
                  primaryKey: true
                  primaryKeyName: TMPL_FIX_LEG_PK
                  nullable: false
            - column:
                name: ENTITY_VERSION
                type: BIGINT
                constraints:
                  nullable: false
            - column:
                name: DIRECTION
                type: VARCHAR(1)
                constraints:
                  nullable: false
            - column:
                name: NOTIONAL
                type: FLOAT
                constraints:
                  nullable: false
            - column:
                name: CURRENCY
                type: VARCHAR(3)
                constraints:
                  nullable: false
            - column:
                name: RATE
                type: DECIMAL
                constraints:
                  nullable: false
            - column:
                name: DAYCOUNT
                type: VARCHAR(10)
                constraints:
                  nullable: false
            - column:
                name: EFFECTIVE_DATE
                type: DATETIME
                constraints:
                  nullable: false
            - column:
                name: MATURITY_DATE
                type: DATETIME
                constraints:
                  nullable: false
        - createTable:
            tableName: TMPL_FLOAT_LEG
            columns:
            - column:
                name: ENTITY_ID
                type: UUID
                constraints:
                  primaryKey: true
                  primaryKeyName: TMPL_FLOAT_LEG_PK
                  nullable: false
            - column:
                name: ENTITY_VERSION
                type: BIGINT
                constraints:
                  nullable: false
            - column:
                name: DIRECTION
                type: VARCHAR(1)
                constraints:
                  nullable: false
            - column:
                name: NOTIONAL
                type: FLOAT
                constraints:
                  nullable: false
            - column:
                name: CURRENCY
                type: VARCHAR(3)
                constraints:
                  nullable: false
            - column:
                name: INDEX
                type: VARCHAR(30)
                constraints:
                  nullable: false
            - column:
                name: TENOR
                type: VARCHAR(3)
                constraints:
                  nullable: false
            - column:
                name: RESET_FREQUENCY
                type: VARCHAR(3)
                constraints:
                  nullable: false
            - column:
                name: SPREAD
                type: DECIMAL
                constraints:
                  nullable: false
            - column:
                name: DAYCOUNT
                type: VARCHAR(10)
                constraints:
                  nullable: false
            - column:
                name: EFFECTIVE_DATE
                type: DATETIME
                constraints:
                  nullable: false
            - column:
                name: MATURITY_DATE
                type: DATETIME
                constraints:
                  nullable: false
        - createTable:
            tableName: TMPL_PRODUCT
            columns:
            - column:
                name: ENTITY_ID
                type: UUID
                constraints:
                  primaryKey: true
                  primaryKeyName: TMPL_PRODUCT_PK
                  nullable: false
            - column:
                name: ENTITY_VERSION
                type: BIGINT
                constraints:
                  nullable: false
            - column:
                name: TYPE
                type: VARCHAR(30)
                constraints:
                  nullable: false
            - column:
                name: SUBTYPE
                type: VARCHAR(20)
                constraints:
                  nullable: false
            - column:
                name: LEG1_ID
                type: UUID
                constraints:
                  nullable: false
                  foreignKeyName: TMPL_PRODUCT_FIX_LEG_FK1
                  references: tmpl_fix_leg(ENTITY_ID)
            - column:
                name: LEG2_ID
                type: UUID
                constraints:
                  nullable: false
                  foreignKeyName: TMPL_PRODUCT_FLOAT_LEG_FK1
                  references: tmpl_float_leg(ENTITY_ID)
        - createTable:
            tableName: TMPL_INSTRUMENT
            columns:
            - column:
                name: ENTITY_ID
                type: UUID
                constraints:
                  primaryKey: true
                  primaryKeyName: TMPL_INSTRUMENT_PK
                  nullable: false
            - column:
                name: ENTITY_VERSION
                type: BIGINT
                constraints:
                  nullable: false
            - column:
                name: NAME
                type: VARCHAR(20)
                constraints:
                  nullable: false
            - column:
                name: PRODUCT_ID
                type: UUID
                constraints:
                  nullable: false
                  foreignKeyName: TMPL_INSTRUMENT_PRODUCT_FK1
                  references: tmpl_product(ENTITY_ID)
        - createTable:
            tableName: TMPL_UDF
            columns:
            - column:
                name: ENTITY_ID
                type: UUID
                constraints:
                  primaryKey: true
                  primaryKeyName: TMPL_UDF_PK
                  nullable: false
            - column:
                name: ENTITY_VERSION
                type: BIGINT
                constraints:
                  nullable: false
            - column:
                name: INSTRUMENT_ID
                type: UUID
                constraints:
                  nullable: false
                  foreignKeyName: TMPL_INSTRUMENT_UDF_FK1
                  references: tmpl_instrument(ENTITY_ID)
            - column:
                name: UDF_KEY
                type: VARCHAR(20)
                constraints:
                  nullable: true
            - column:
                name: UDF_VALUE
                type: VARCHAR(20)
                constraints:
                  nullable: true
